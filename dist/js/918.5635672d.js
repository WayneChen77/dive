"use strict";(self["webpackChunkDive"]=self["webpackChunkDive"]||[]).push([[918],{8918:function(t,e,i){i.r(e),i.d(e,{default:function(){return H}});var s=i(3396),a=i(9242),l=i(7139);const c=t=>((0,s.dD)("data-v-a410a952"),t=t(),(0,s.Cn)(),t),r={class:"product"},o=c((()=>(0,s._)("div",{class:"row position-relative"},[(0,s._)("img",{src:"https://images.pexels.com/photos/302549/pexels-photo-302549.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:""}),(0,s._)("div",{class:"position-absolute text-center text",style:{width:"30%","min-height":"10vh",top:"30%",left:"18%"}},[(0,s._)("h4",null,"潛水假期"),(0,s._)("p",null,"馬上展開您的潛水假期")])],-1))),d={class:"container"},n={class:"title my-3 row"},u={class:"col-md-9 col-12"},h={"aria-label":"breadcrumb"},p={class:"breadcrumb"},m={class:"breadcrumb-item"},g=c((()=>(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"潛水假期",-1))),k={class:"col-md-3 col-12"},_={class:"d-flex"},v=c((()=>(0,s._)("button",{class:"btn btn-outline-success",type:"submit"},"Search",-1))),b=c((()=>(0,s._)("hr",{class:"mt-3"},null,-1))),f={class:"main mb-3 d-flex flex-wrap"},w={class:"card-img-top cardImg"},y=["src"],x={class:"overlay card-img-top"},D=["onClick"],L=c((()=>(0,s._)("div",{class:"text-center p-5 text-white"},"了解更多",-1))),C=[L],S=["onClick","onKeyup"],$={class:"card-body text-center"},I={class:"card-title"},O={class:"card-text"},U=["onClick"];function J(t,e,i,c,L,J){const K=(0,s.up)("LoadingView"),N=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(K,{active:L.isLoading},null,8,["active"]),(0,s._)("div",r,[o,(0,s._)("div",d,[(0,s._)("div",n,[(0,s._)("div",u,[(0,s._)("nav",h,[(0,s._)("ol",p,[(0,s._)("li",m,[(0,s.Wm)(N,{class:"text-decoration-none",to:"/home"},{default:(0,s.w5)((()=>[(0,s.Uk)("韋恩潛水")])),_:1})]),g])])]),(0,s._)("div",k,[(0,s._)("form",_,[(0,s.wy)((0,s._)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search","onUpdate:modelValue":e[0]||(e[0]=t=>L.search=t),onChange:e[1]||(e[1]=(...e)=>t.filterData&&t.filterData(...e))},null,544),[[a.nr,L.search]]),v])]),b]),(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(J.dataList,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"card shadow border-0 m-3",key:e,"data-aos":"flip-left"},[(0,s._)("div",w,[(0,s._)("img",{src:t.imageUrl,alt:"i.engtitle"},null,8,y)]),(0,s._)("div",x,[(0,s._)("a",{href:"#",onClick:(0,a.iM)((e=>J.userproduct(t)),["prevent"])},C,8,D)]),(0,s._)("i",{class:(0,l.C_)(["bi bi-heart position-absolute like",{liked:J.isLiked(t)}]),onClick:e=>J.liked(t),onKeyup:e=>J.liked(t)},null,42,S),(0,s._)("div",$,[(0,s._)("h5",I,(0,l.zw)(t.title),1),(0,s._)("p",O,"$"+(0,l.zw)(this.$filters.currency(t.price)),1),(0,s._)("a",{href:"#",class:"btn btn-outline-primary",onClick:(0,a.iM)((e=>J.updateCart(t)),["prevent"])},"馬上上課",8,U)])])))),128))])])])],64)}i(7658);var K={name:"UserProducts",data(){return{products:[],isLoading:!1,search:"",likedData:[]}},mounted(){this.$emitter.on("push-like",(()=>{this.getLikes()}))},methods:{userproduct(t){this.$router.push(`/UserSelect/${t.id}`)},updateCart(t){this.isLoading=!0;const e={product_id:t.id,qty:1},i="https://vue3-course-api.hexschool.io/api/waynechendive-api/cart";this.$http.post(i,{data:e}).then((t=>{this.$emitter.emit("push-cart",{style:"success",title:t.data.message,content:t.data.message}),this.isLoading=!1})).catch((t=>{console.log(t)}))},getproducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/waynechendive-api/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,this.isLoading=!1})).catch((t=>{console.log(t)}))},isLiked(t){return this.likedData.indexOf(t.id)>-1},getLikes(){this.likedData=JSON.parse(localStorage.getItem("liked"))||[]},liked(t){const e=localStorage.getItem("liked"),i=JSON.parse(e)??[],s=i.indexOf(t.id);s>-1?(i.splice(s,1),this.likedData=i):(i.push(t.id),this.likedData=i),localStorage.setItem("liked",JSON.stringify(this.likedData)),this.$emitter.emit("push-like",{style:"success",title:"關注",content:"已更新最愛標籤"})}},computed:{dataList(){return this.products.filter((t=>t.title.match(this.search)))}},created(){this.getproducts(),this.getLikes()}},N=i(89);const z=(0,N.Z)(K,[["render",J],["__scopeId","data-v-a410a952"]]);var H=z}}]);
//# sourceMappingURL=918.5635672d.js.map