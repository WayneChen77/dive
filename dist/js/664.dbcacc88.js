"use strict";(self["webpackChunkDive"]=self["webpackChunkDive"]||[]).push([[664],{7550:function(t,e,s){var l=s(2578),a=s(70);e["Z"]=(0,l.Q_)("OrdersStore",{state:()=>({dataList:{},show:!1,progersNum:66}),actions:{getOrders(t){const e=`https://vue3-course-api.hexschool.io/api/waynechendive-api/order/${t}`;console.log(e),a.ZP.get(e).then((t=>{t.data.order?(this.show=!1,this.dataList=t.data.order):(this.show=!0,this.dataList={})})).catch((t=>{console.log(t)}))}}})},6664:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var l=s(3396),a=s(7139);const o={class:"row justify-content-center"},c={class:"text-center top col-12 col-md-8 mb-3 shadow"},n=(0,l._)("h2",null,"訂單品項",-1),d={class:"table"},i=(0,l._)("thead",{class:"table-primary"},[(0,l._)("tr",null,[(0,l._)("th",{scope:"col",width:"33%"},"品項"),(0,l._)("th",{scope:"col",width:"33%"},"人數"),(0,l._)("th",{scope:"col",width:"33%"},"金額")])],-1),r={scope:"row"},u=(0,l._)("th",{scope:"row"},null,-1),h=(0,l._)("td",{scope:"row"},"總價:",-1),_={class:"col-12 col-md-8 text-center bot mb-3 shadow"},p=(0,l._)("h2",null,"訂單資料",-1),w={class:"table table-hover"},b={class:"table-primary"},v=(0,l._)("th",{scope:"col",width:"33%"},"訂單編號",-1),L={scope:"col",width:"66%"},g={key:0},y=(0,l._)("th",{scope:"row"},"聯絡人姓名:",-1),m=(0,l._)("th",{scope:"row"},"聯絡人電話:",-1),k=(0,l._)("th",{scope:"row"},"聯絡人mail:",-1),z=(0,l._)("th",{scope:"row"},"聯絡人地址:",-1),f=(0,l._)("th",{scope:"row"},"付款狀態:",-1),O={class:"col-8 text-end"};function C(t,e,s,C,D,Z){return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",c,[n,(0,l._)("div",null,[(0,l._)("table",d,[i,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(C.dataList.products,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[(0,l._)("th",r,(0,a.zw)(t.product.title),1),(0,l._)("td",null,(0,a.zw)(t.qty),1),(0,l._)("td",null,(0,a.zw)(t.final_total),1)])))),128))]),(0,l._)("tr",null,[u,h,(0,l._)("td",null,(0,a.zw)(C.dataList.total),1)])])])]),(0,l._)("div",_,[p,(0,l._)("div",null,[(0,l._)("table",w,[(0,l._)("thead",b,[(0,l._)("tr",null,[v,(0,l._)("th",L,(0,a.zw)(C.dataList.id),1)])]),C.dataList.user?((0,l.wg)(),(0,l.iD)("tbody",g,[(0,l._)("tr",null,[y,(0,l._)("td",null,(0,a.zw)(C.dataList.user.name),1)]),(0,l._)("tr",null,[m,(0,l._)("td",null,(0,a.zw)(C.dataList.user.tel),1)]),(0,l._)("tr",null,[k,(0,l._)("td",null,(0,a.zw)(C.dataList.user.email),1)]),(0,l._)("tr",null,[z,(0,l._)("td",null,(0,a.zw)(C.dataList.user.address),1)]),(0,l._)("tr",null,[f,(0,l._)("td",null,(0,a.zw)(C.dataList.is_paid),1)])])):(0,l.kq)("",!0)])])]),(0,l._)("div",O,[(0,l._)("button",{type:"button",class:"btn btn-outline-titleblue",onClick:e[0]||(e[0]=t=>C.CheckOut(C.id))}," 我要付款 ")])])}s(7658);var D=s(7550),Z=s(6294),x=s(2483),$=s(70),j={setup(){const t=(0,x.yj)(),e=(0,x.tv)(),{id:s}=t.params,l=(0,D.Z)(),{dataList:a}=l;l.getOrders(s);const o=t=>{const l=`https://vue3-course-api.hexschool.io/api/waynechendive-api/pay/${t}`;$.ZP.post(l).then((t=>{const e=(0,Z.Z)(),s={content:t.data.message};e.pushMessage(s)})).catch((t=>console.log(t))),e.push(`/Order/CheckOut/${s}`)};return{dataList:a,id:s,CheckOut:o}}},q=s(89);const P=(0,q.Z)(j,[["render",C]]);var H=P}}]);
//# sourceMappingURL=664.dbcacc88.js.map