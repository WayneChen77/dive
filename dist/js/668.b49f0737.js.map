{"version":3,"file":"js/668.b49f0737.js","mappings":"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","sources":["webpack://Dive/./src/views/Front/UserProducts.vue","webpack://Dive/./src/views/Front/UserProducts.vue?d528"],"sourcesContent":["<template>\r\n  <!-- 全域原件 -->\r\n  <LoadingView :active=\"isLoading\"></LoadingView>\r\n  <div class=\"product\">\r\n    <div class=\"position-relative row align-items-center\">\r\n      <div\r\n        class=\"position-absolute text-center text py-3\"\r\n        style=\"width: 30%; min-height: 10vh; left: 18%\"\r\n      >\r\n        <h2>潛水假期</h2>\r\n        <p>馬上展開您的潛水假期</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"title my-3 row\">\r\n        <div class=\"col-md-9 col-12\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb\">\r\n              <li class=\"breadcrumb-item\">\r\n                <router-link class=\"text-decoration-none\" to=\"/home\">首頁</router-link>\r\n              </li>\r\n              <li class=\"breadcrumb-item active\" aria-current=\"page\">產品介紹</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n        <div class=\"col-md-3 col-12\">\r\n          <form class=\"d-flex\">\r\n            <input\r\n              class=\"form-control me-2\"\r\n              type=\"search\"\r\n              placeholder=\"Search\"\r\n              aria-label=\"Search\"\r\n              v-model=\"search\"\r\n              @change=\"filterData\"\r\n            />\r\n            <!-- <button class=\"btn btn-outline-success\" type=\"submit\">Search</button> -->\r\n          </form>\r\n        </div>\r\n\r\n        <hr class=\"mt-3\" />\r\n      </div>\r\n      <div class=\"main mb-3 d-flex flex-wrap justify-content-between\">\r\n        <div\r\n          class=\"card shadow border-0\"\r\n          v-for=\"(i, key) in dataList\"\r\n          :key=\"key\"\r\n          data-aos=\"flip-left\"\r\n        >\r\n          <div class=\"card-img-top cardImg\">\r\n            <img :src=\"i.imageUrl\" alt=\"i.engtitle\" />\r\n          </div>\r\n          <div class=\"overlay card-img-top\">\r\n            <a href=\"#\" @click.prevent=\"userproduct(i)\">\r\n              <div class=\"text-center py-5 text-bgblue\">了解更多</div>\r\n            </a>\r\n          </div>\r\n          <i\r\n            class=\"bi position-absolute like\"\r\n            :class=\"isLiked(i) ? 'bi-heart-fill' : 'bi-heart'\"\r\n            @click=\"liked(i)\"\r\n            @keyup=\"liked(i)\"\r\n          ></i>\r\n          <div class=\"card-body text-center\">\r\n            <h5 class=\"card-title text-truncate\">{{ i.title }}</h5>\r\n            <p class=\"card-text\">${{ this.$filters.currency(i.price) }}</p>\r\n            <a href=\"#\" class=\"btn btn-outline-titleblue\" @click.prevent=\"updateCart(i)\"\r\n              >馬上上課</a\r\n            >\r\n          </div>\r\n        </div>\r\n        <span class=\"flexwrap\"></span>\r\n        <span class=\"flexwrap\"></span>\r\n        <span class=\"flexwrap\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserProducts',\r\n\r\n  data() {\r\n    return { products: [], isLoading: false, search: '', likedData: [] };\r\n  },\r\n  mounted() {\r\n    // 最愛\r\n    this.$emitter.on('push-like', () => {\r\n      this.getLikes();\r\n    });\r\n  },\r\n  methods: {\r\n    //  進入商品業面\r\n    userproduct(i) {\r\n      this.$router.push(`/UserSelect/${i.id}`);\r\n    },\r\n    // 加入購物車\r\n    updateCart(i) {\r\n      this.isLoading = true;\r\n      const cart = {\r\n        product_id: i.id,\r\n        qty: 1,\r\n      };\r\n      const Api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.$http\r\n        .post(Api, { data: cart })\r\n        .then((res) => {\r\n          //   吐司回覆\r\n          this.$emitter.emit('push-cart', {\r\n            style: 'success',\r\n            title: res.data.message,\r\n            content: res.data.message,\r\n          });\r\n\r\n          this.isLoading = false;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    getproducts() {\r\n      this.isLoading = true;\r\n      const Api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.$http\r\n        .get(Api)\r\n        .then((res) => {\r\n          this.products = res.data.products;\r\n          this.isLoading = false;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    // 判斷css狀態\r\n    isLiked(item) {\r\n      if (this.likedData.indexOf(item.id) > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // 取得localStorage計算最愛數量\r\n    getLikes() {\r\n      this.likedData = JSON.parse(localStorage.getItem('liked')) || [];\r\n    },\r\n    // 推送資料到localStorage\r\n    liked(item) {\r\n      const data = localStorage.getItem('liked');\r\n      const dataArry = JSON.parse(data) ?? [];\r\n      const a = dataArry.indexOf(item.id);\r\n      if (a > -1) {\r\n        dataArry.splice(a, 1);\r\n        this.likedData = dataArry;\r\n      } else {\r\n        dataArry.push(item.id);\r\n        this.likedData = dataArry;\r\n      }\r\n      localStorage.setItem('liked', JSON.stringify(this.likedData));\r\n\r\n      //   吐司回覆\r\n      this.$emitter.emit('push-like', {\r\n        style: 'success',\r\n        title: '關注',\r\n        content: '已更新最愛標籤',\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    // search\r\n    dataList() {\r\n      return this.products.filter((i) => i.title.match(this.search));\r\n    },\r\n  },\r\n  created() {\r\n    this.getproducts();\r\n    // 取得localStorage計算最愛數量\r\n    this.getLikes();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.product {\r\n  .position-relative {\r\n    width: 100%;\r\n    height: 30vh;\r\n    overflow: hidden;\r\n    background-image: url(https://images.pexels.com/photos/302549/pexels-photo-302549.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);\r\n    background-position: center 45vh;\r\n    background-size: cover;\r\n  }\r\n  .text {\r\n    color: white;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    text-align: center;\r\n  }\r\n\r\n  // 排版用\r\n  .flexwrap {\r\n    width: 20%;\r\n    margin: 1%;\r\n  }\r\n  .card {\r\n    position: relative;\r\n    width: 20%;\r\n    min-height: 50vh;\r\n    margin: 1%;\r\n\r\n    overflow: hidden;\r\n    .card-img-top {\r\n      min-height: 30vh;\r\n      overflow: hidden;\r\n      img {\r\n        height: 30vh;\r\n        width: 100%;\r\n      }\r\n    }\r\n    .overlay {\r\n      position: absolute;\r\n      width: 100%;\r\n      background-color: rgba(0, 0, 0, 0.6);\r\n      top: 0;\r\n      opacity: 0;\r\n    }\r\n    &:hover {\r\n      .cardImg.card-img-top {\r\n        img {\r\n          transform: scale(1.5);\r\n          transition: all 1.5s;\r\n        }\r\n      }\r\n      .overlay {\r\n        transition: all 0.5s;\r\n        opacity: 1;\r\n      }\r\n    }\r\n    .like {\r\n      top: 0;\r\n      left: 2vw;\r\n      z-index: 5;\r\n      font-size: 2.5rem;\r\n      color: red;\r\n      cursor: pointer;\r\n    }\r\n    // .liked {\r\n    //   color: red;\r\n    // }\r\n  }\r\n  @media screen and (max-width: 430px) {\r\n    .card {\r\n      position: relative;\r\n      width: 90%;\r\n      margin: auto;\r\n      margin-bottom: 1.5rem;\r\n    }\r\n    .position-relative {\r\n      background-position: center;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1600px) {\r\n    .card {\r\n      min-height: 40vh;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./UserProducts.vue?vue&type=template&id=5592caa1&scoped=true\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport \"./UserProducts.vue?vue&type=style&index=0&id=5592caa1&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\wei\\\\Desktop\\\\vuecart-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5592caa1\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_hoisted_18","_createVNode","_component_LoadingView","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_router_link","to","_hoisted_9","_hoisted_10","_hoisted_11","type","placeholder","onChange","_ctx","_hoisted_12","_hoisted_13","_createElementBlock","_Fragment","$options","i","key","_hoisted_14","src","imageUrl","alt","_hoisted_16","href","onClick","onKeyup","_hoisted_21","_hoisted_22","title","_hoisted_23","$filters","currency","price","_hoisted_25","_hoisted_26","_hoisted_27","name","data","products","isLoading","search","likedData","mounted","this","$emitter","on","getLikes","methods","userproduct","$router","push","id","updateCart","cart","product_id","qty","Api","$http","post","then","res","emit","message","content","catch","e","console","log","getproducts","get","isLiked","item","indexOf","JSON","parse","localStorage","getItem","liked","dataArry","a","splice","setItem","stringify","computed","dataList","filter","match","created","__exports__","render"],"sourceRoot":""}