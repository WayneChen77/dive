"use strict";(self["webpackChunkDive"]=self["webpackChunkDive"]||[]).push([[507],{7550:function(t,s,e){var a=e(2578),l=e(70),o=e(6294),i=e(3323);const d=(0,o.Z)(i.Z);s["Z"]=(0,a.Q_)("OrdersStore",{state:()=>({dataList:{},searchID:"",show:!1,progersNum:66}),getters:{data:t=>t.searchID===t.dataList.id?t.dataList:{}},actions:{getOrders(t){d.isLoading=!0;const s=`https://vue3-course-api.hexschool.io/api/waynechendive-api/order/${t}`;l.ZP.get(s).then((t=>{t.data.order?(this.show=!1,this.dataList=t.data.order,d.isLoading=!1):(this.show=!0,this.dataList={},d.isLoading=!1)})).catch((t=>{console.log(t),d.isLoading=!1}))}}})},8507:function(t,s,e){e.r(s),e.d(s,{default:function(){return H}});var a=e(3396),l=e(7139);const o={class:"row justify-content-center"},i={class:"text-center top col-12 col-md-8 mb-3 shadow"},d=(0,a._)("h2",null,"訂單品項",-1),n={class:"table"},c=(0,a._)("thead",{class:"table-primary"},[(0,a._)("tr",null,[(0,a._)("th",{scope:"col",width:"33%"},"品項"),(0,a._)("th",{scope:"col",width:"33%"},"人數"),(0,a._)("th",{scope:"col",width:"33%"},"金額")])],-1),r={scope:"row"},u=(0,a._)("th",{scope:"row"},null,-1),h=(0,a._)("td",{scope:"row"},"總價:",-1),_={class:"col-12 col-md-8 text-center bot mb-3 shadow"},p=(0,a._)("h2",null,"訂單資料",-1),w={class:"table table-hover"},L={class:"table-primary"},b=(0,a._)("th",{scope:"col",width:"33%"},"訂單編號",-1),g={scope:"col",width:"66%"},v={key:0},m=(0,a._)("th",{scope:"row"},"聯絡人姓名:",-1),y=(0,a._)("th",{scope:"row"},"聯絡人電話:",-1),k=(0,a._)("th",{scope:"row"},"聯絡人mail:",-1),z=(0,a._)("th",{scope:"row"},"聯絡人地址:",-1),f=(0,a._)("th",{scope:"row"},"付款狀態:",-1),D={class:"col-8 text-end"};function O(t,s,e,O,Z,C){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",i,[d,(0,a._)("div",null,[(0,a._)("table",n,[c,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(O.dataList.products,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("th",r,(0,l.zw)(t.product.title),1),(0,a._)("td",null,(0,l.zw)(t.qty),1),(0,a._)("td",null,(0,l.zw)(t.final_total),1)])))),128))]),(0,a._)("tr",null,[u,h,(0,a._)("td",null,(0,l.zw)(O.dataList.total),1)])])])]),(0,a._)("div",_,[p,(0,a._)("div",null,[(0,a._)("table",w,[(0,a._)("thead",L,[(0,a._)("tr",null,[b,(0,a._)("th",g,(0,l.zw)(O.dataList.id),1)])]),O.dataList.user?((0,a.wg)(),(0,a.iD)("tbody",v,[(0,a._)("tr",null,[m,(0,a._)("td",null,(0,l.zw)(O.dataList.user.name),1)]),(0,a._)("tr",null,[y,(0,a._)("td",null,(0,l.zw)(O.dataList.user.tel),1)]),(0,a._)("tr",null,[k,(0,a._)("td",null,(0,l.zw)(O.dataList.user.email),1)]),(0,a._)("tr",null,[z,(0,a._)("td",null,(0,l.zw)(O.dataList.user.address),1)]),(0,a._)("tr",null,[f,(0,a._)("td",null,(0,l.zw)(O.dataList.is_paid),1)])])):(0,a.kq)("",!0)])])]),(0,a._)("div",D,[(0,a._)("button",{type:"button",class:"btn btn-outline-titleblue",onClick:s[0]||(s[0]=t=>O.CheckOut(O.id))}," 我要付款 ")])])}e(7658);var Z=e(7550),C=e(6294),x=e(2483),$=e(70),j=e(2578),q={setup(){const t=(0,x.yj)(),s=(0,x.tv)(),{id:e}=t.params,a=(0,Z.Z)(),{getOrders:l}=a;l(e);const{dataList:o}=(0,j.Jk)(a),i=t=>{const a=`https://vue3-course-api.hexschool.io/api/waynechendive-api/pay/${t}`;$.ZP.post(a).then((t=>{const s=(0,C.Z)(),e={content:t.data.message};s.pushMessage(e)})).catch((t=>console.log(t))),s.push(`/Order/CheckOut/${e}`)};return{dataList:o,id:e,CheckOut:i,getOrders:l}},methods:{}},I=e(89);const P=(0,I.Z)(q,[["render",O]]);var H=P}}]);
//# sourceMappingURL=507.de968052.js.map