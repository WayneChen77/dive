"use strict";(self["webpackChunkDive"]=self["webpackChunkDive"]||[]).push([[30],{1030:function(t,e,i){i.r(e),i.d(e,{default:function(){return it}});var s=i(3396),c=i(7139),a=i(9242);const r=t=>((0,s.dD)("data-v-7d5b5427"),t=t(),(0,s.Cn)(),t),l={class:"container"},d={class:"title mb-5"},o={"aria-label":"breadcrumb"},n={class:"breadcrumb"},u={class:"breadcrumb-item"},p={class:"breadcrumb-item","aria-current":"page"},h=r((()=>(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"潛水課程",-1))),m=r((()=>(0,s._)("hr",null,null,-1))),g={class:"row px-5"},_={class:"col-12 col-md-6 row mainimg g-3"},w=["src","alt","title"],b=["onClick"],v=["src","alt","title"],k={class:"col-12 col-md-6 m-auto"},y={style:{"white-space":"pre-wrap"}},f={class:"text-end"},x=r((()=>(0,s._)("br",null,null,-1))),C={class:"fs-4"},D={class:"mb-3"},I={for:"number1"},$={class:"mt-5 row justify-content-center bottxt"},N={class:"col-5 text-center"},L=r((()=>(0,s._)("h4",null,"課程內容:",-1))),z={style:{"white-space":"pre-wrap"}},S={class:"col-5 text-center"},O=r((()=>(0,s._)("h4",null,"注意事項:",-1))),W={style:{"white-space":"pre-wrap"}},U=r((()=>(0,s._)("h3",{class:"text-textblue mt-3"},"你可能有興趣",-1)));function M(t,e,i,r,M,H){const J=(0,s.up)("LoadingView"),K=(0,s.up)("router-link"),P=(0,s.up)("OtherCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(J,{active:M.isLoading},null,8,["active"]),(0,s._)("div",l,[(0,s._)("div",d,[(0,s._)("nav",o,[(0,s._)("ol",n,[(0,s._)("li",u,[(0,s.Wm)(K,{class:"text-decoration-none",to:"/home"},{default:(0,s.w5)((()=>[(0,s.Uk)("韋恩潛水")])),_:1})]),(0,s._)("li",p,[(0,s.Wm)(K,{class:"text-decoration-none",to:"/userProducts"},{default:(0,s.w5)((()=>[(0,s.Uk)("潛水假期")])),_:1})]),h])]),m]),(0,s._)("div",g,[(0,s._)("div",_,[(0,s._)("img",{src:M.mainImg,alt:M.product.engtitle,title:M.product.title},null,8,w),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(M.product.images,((t,e)=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,class:"col-4 propimg border-0",onClick:i=>H.pickPic(t,e)},[(0,s._)("img",{class:"rounded",src:t,alt:M.product.engtitle,title:M.product.title},null,8,v),(0,s._)("div",{class:(0,c.C_)(["overlay",{noneOverlay:e===M.classIndex}])},null,2)],8,b)))),128))]),(0,s._)("div",k,[(0,s._)("h3",null,(0,c.zw)(M.product.title),1),(0,s._)("p",null,(0,c.zw)(M.product.engtitle),1),(0,s._)("p",null,(0,c.zw)(M.product.category),1),(0,s._)("p",y,(0,c.zw)(M.product.description),1),(0,s._)("div",f,[(0,s._)("small",null,[(0,s._)("s",null,"$"+(0,c.zw)(this.$filters.currency(M.product.origin_price)),1)]),x,(0,s._)("b",C,"售價$:"+(0,c.zw)(this.$filters.currency(M.product.price))+"/人",1),(0,s._)("div",D,[(0,s._)("button",{class:"btn btn-outline-secondary rounded-0",min:"1",onClick:e[0]||(e[0]=(0,a.iM)((t=>M.productNum-=1),["prevent"]))}," -"),(0,s._)("label",I,[(0,s.wy)((0,s._)("input",{name:"number1",id:"number1",type:"number",max:"10",min:"1",class:"productNumber btn border","onUpdate:modelValue":e[1]||(e[1]=t=>M.productNum=t)},null,512),[[a.nr,M.productNum]])]),(0,s._)("button",{class:"btn btn-outline-secondary rounded-0",onClick:e[2]||(e[2]=(0,a.iM)((t=>M.productNum+=1),["prevent"]))}," + ")]),(0,s._)("div",{class:(0,c.C_)(["like",{liked:H.isLiked()}])},[(0,s._)("i",{class:"bi bi-heart",onClick:e[3]||(e[3]=t=>H.liked()),onKeyup:e[4]||(e[4]=t=>H.liked())},null,32),(0,s._)("button",{type:"button",class:"btn btn-titleblue w-50",onClick:e[5]||(e[5]=(0,a.iM)(((...t)=>H.updateCart&&H.updateCart(...t)),["prevent"]))}," 加入購物車 ")],2)])])]),(0,s._)("div",$,[(0,s._)("div",N,[L,(0,s._)("p",z,(0,c.zw)(M.product.content),1)]),(0,s._)("div",S,[O,(0,s._)("p",W,(0,c.zw)(M.product.precautions),1)])]),U,(0,s.Wm)(P)])],64)}i(7658);const H=t=>((0,s.dD)("data-v-4aaeb0a2"),t=t(),(0,s.Cn)(),t),J={class:"mb-3"},K={"data-aos":"flip-left",class:"card shadow border-0 m-3"},P={class:"card-img-top cardImg"},Y=["src"],j={class:"overlay card-img-top"},q=["onClick"],V=H((()=>(0,s._)("div",{class:"text-center p-5 text-white fs-5"},"商品資訊",-1))),Z=[V],E={class:"card-body text-center"},A={class:"card-title fs-5"};function B(t,e,i,r,l,d){const o=(0,s.up)("swiper-slide"),n=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)("div",J,[(0,s.Wm)(n,{modules:l.modules,"slides-per-view":l.num,"space-between":50},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,((t,e)=>((0,s.wg)(),(0,s.j4)(o,{key:e},{default:(0,s.w5)((()=>[(0,s._)("div",K,[(0,s._)("div",P,[(0,s._)("img",{src:t.imageUrl,alt:"i.engtitle"},null,8,Y)]),(0,s._)("div",j,[(0,s._)("a",{href:"#",onClick:(0,a.iM)((e=>d.userproduct(t)),["prevent"])},Z,8,q)]),(0,s._)("div",E,[(0,s._)("h5",A,(0,c.zw)(t.title),1)])])])),_:2},1024)))),128))])),_:1},8,["modules","slides-per-view"])])}var F=i(5032),G=i(4191),Q={data(){return{products:[],modules:[G.LW,G.s5],num:1}},components:{Swiper:F.tq,SwiperSlide:F.o5},methods:{getproducts(){const t="https://vue3-course-api.hexschool.io/api/waynechendive-api/products/all";this.$http.get(t).then((t=>{this.products=t.data.products})).catch((t=>{console.log(t)}))},userproduct(t){this.$router.push(`/UserSelect/${t.id}`)}},mounted(){window.innerWidth<430?this.num=1:this.num=3,window.addEventListener("resize",(()=>{window.innerWidth<430?this.num=1:this.num=3}))},created(){this.getproducts()}},R=i(89);const T=(0,R.Z)(Q,[["render",B],["__scopeId","data-v-4aaeb0a2"]]);var X=T,tt={data(){return{product:{},isLoading:!1,mainImg:"",classIndex:-1,productNum:1,likedData:[]}},components:{OtherCard:X},mounted(){this.$emitter.on("push-like",(()=>{this.getLikes()}))},methods:{isLiked(){return this.likedData.indexOf(this.product.id)>-1},getLikes(){this.likedData=JSON.parse(localStorage.getItem("liked"))},liked(){const t=localStorage.getItem("liked"),e=JSON.parse(t)??[],i=e.indexOf(this.product.id);i>-1?(e.splice(i,1),this.likedData=e):(e.push(this.product.id),this.likedData=e),localStorage.setItem("liked",JSON.stringify(this.likedData)),this.$emitter.emit("push-like",{style:"success",title:"關注",content:"已更新最愛標籤"})},getproduct(){this.isLoading=!0;const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/api/waynechendive-api/product/${t}`;this.$http.get(e).then((t=>{if(this.product=t.data.product,this.product.images){const t=this.product.images[0];this.mainImg=t,this.classIndex=0}else this.mainImg=this.product.imageUrl;this.isLoading=!1})).catch((t=>{console.log(t)}))},updateCart(){this.isLoading=!0;const t={product_id:this.product.id,qty:this.productNum},e="https://vue3-course-api.hexschool.io/api/waynechendive-api/cart";this.$http.post(e,{data:t}).then((t=>{this.$emitter.emit("push-cart",{style:"success",title:t.data.message,content:t.data.message}),this.isLoading=!1})).catch((t=>{console.log(t)}))},pickPic(t,e){this.classIndex=e,this.mainImg=t}},watch:{productNum(t,e){(this.productNum<=0||this.productNum>4)&&(this.productNum=e)},$route(){this.getproduct()}},created(){this.getproduct()}};const et=(0,R.Z)(tt,[["render",M],["__scopeId","data-v-7d5b5427"]]);var it=et}}]);
//# sourceMappingURL=30.1d77e3df.js.map