"use strict";(self["webpackChunkDive"]=self["webpackChunkDive"]||[]).push([[876],{1876:function(t,e,i){i.r(e),i.d(e,{default:function(){return st}});var s=i(3396),c=i(7139),a=i(9242);const r=t=>((0,s.dD)("data-v-9c245b8e"),t=t(),(0,s.Cn)(),t),l={class:"container"},o={class:"title mb-5"},d={"aria-label":"breadcrumb"},n={class:"breadcrumb"},u={class:"breadcrumb-item"},p={class:"breadcrumb-item","aria-current":"page"},h=r((()=>(0,s._)("li",{class:"breadcrumb-item active","aria-current":"page"},"潛水課程",-1))),m=r((()=>(0,s._)("hr",null,null,-1))),g={class:"row px-5"},_={class:"col-12 col-md-6 row mainimg g-3"},b=["src","alt","title"],w=["onClick"],v=["src","alt","title"],k={class:"col-12 col-md-6 m-auto"},f={style:{"white-space":"pre-wrap"}},y={class:"text-end"},x=r((()=>(0,s._)("br",null,null,-1))),C={class:"fs-4"},D={class:"mb-3"},I={for:"number1"},$={class:"like"},N={class:"mt-5 row justify-content-center bottxt bg-bgblue pt-3"},L={class:"col-5 text-center"},z=r((()=>(0,s._)("h4",null,"課程內容:",-1))),S={style:{"white-space":"pre-wrap"}},O={class:"col-5 text-center"},W=r((()=>(0,s._)("h4",null,"注意事項:",-1))),U={style:{"white-space":"pre-wrap"}},M=r((()=>(0,s._)("h3",{class:"text-textblue mt-3"},"你可能有興趣",-1)));function H(t,e,i,r,H,J){const K=(0,s.up)("LoadingView"),P=(0,s.up)("router-link"),Y=(0,s.up)("OtherCard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(K,{active:H.isLoading},null,8,["active"]),(0,s._)("div",l,[(0,s._)("div",o,[(0,s._)("nav",d,[(0,s._)("ol",n,[(0,s._)("li",u,[(0,s.Wm)(P,{class:"text-decoration-none",to:"/home"},{default:(0,s.w5)((()=>[(0,s.Uk)("韋恩潛水")])),_:1})]),(0,s._)("li",p,[(0,s.Wm)(P,{class:"text-decoration-none",to:"/userProducts"},{default:(0,s.w5)((()=>[(0,s.Uk)("潛水假期")])),_:1})]),h])]),m]),(0,s._)("div",g,[(0,s._)("div",_,[(0,s._)("img",{src:H.mainImg,alt:H.product.engtitle,title:H.product.title},null,8,b),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.product.images,((t,e)=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,class:"col-4 propimg border-0",onClick:i=>J.pickPic(t,e)},[(0,s._)("img",{class:"rounded",src:t,alt:H.product.engtitle,title:H.product.title},null,8,v),(0,s._)("div",{class:(0,c.C_)(["overlay",{noneOverlay:e===H.classIndex}])},null,2)],8,w)))),128))]),(0,s._)("div",k,[(0,s._)("h3",null,(0,c.zw)(H.product.title),1),(0,s._)("p",null,(0,c.zw)(H.product.engtitle),1),(0,s._)("p",null,(0,c.zw)(H.product.category),1),(0,s._)("p",f,(0,c.zw)(H.product.description),1),(0,s._)("div",y,[(0,s._)("small",null,[(0,s._)("s",null,"$"+(0,c.zw)(this.$filters.currency(H.product.origin_price)),1)]),x,(0,s._)("b",C,"售價$:"+(0,c.zw)(this.$filters.currency(H.product.price))+"/人",1),(0,s._)("div",D,[(0,s._)("button",{class:"btn btn-outline-secondary rounded-0",min:"1",onClick:e[0]||(e[0]=(0,a.iM)((t=>H.productNum-=1),["prevent"]))}," -"),(0,s._)("label",I,[(0,s.wy)((0,s._)("input",{name:"number1",id:"number1",type:"number",max:"10",min:"1",class:"productNumber btn border","onUpdate:modelValue":e[1]||(e[1]=t=>H.productNum=t)},null,512),[[a.nr,H.productNum]])]),(0,s._)("button",{class:"btn btn-outline-secondary rounded-0",onClick:e[2]||(e[2]=(0,a.iM)((t=>H.productNum+=1),["prevent"]))}," + ")]),(0,s._)("div",$,[(0,s._)("i",{class:(0,c.C_)(["bi",J.isLiked()?"bi-heart-fill":"bi-heart"]),onClick:e[3]||(e[3]=t=>J.liked()),onKeyup:e[4]||(e[4]=t=>J.liked())},null,34),(0,s._)("button",{type:"button",class:"btn btn-titleblue w-50",onClick:e[5]||(e[5]=(0,a.iM)(((...t)=>J.updateCart&&J.updateCart(...t)),["prevent"]))}," 加入購物車 ")])])])]),(0,s._)("div",N,[(0,s._)("div",L,[z,(0,s._)("p",S,(0,c.zw)(H.product.content),1)]),(0,s._)("div",O,[W,(0,s._)("p",U,(0,c.zw)(H.product.precautions),1)])]),M,(0,s.Wm)(Y)])],64)}i(7658);const J=t=>((0,s.dD)("data-v-1caa8f56"),t=t(),(0,s.Cn)(),t),K={class:"mb-3"},P={"data-aos":"flip-left",class:"card shadow border-0 m-3"},Y={class:"card-img-top cardImg"},j=["src"],q={class:"overlay card-img-top"},V=["onClick"],Z=J((()=>(0,s._)("div",{class:"text-center p-5 text-white fs-5"},"商品資訊",-1))),E=[Z],A={class:"card-body text-center"},B={class:"card-title fs-5 text-truncate"};function F(t,e,i,r,l,o){const d=(0,s.up)("swiper-slide"),n=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)("div",K,[(0,s.Wm)(n,{modules:l.modules,"slides-per-view":l.num,"space-between":50},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,((t,e)=>((0,s.wg)(),(0,s.j4)(d,{key:e},{default:(0,s.w5)((()=>[(0,s._)("div",P,[(0,s._)("div",Y,[(0,s._)("img",{src:t.imageUrl,alt:"i.engtitle"},null,8,j)]),(0,s._)("div",q,[(0,s._)("a",{href:"#",onClick:(0,a.iM)((e=>o.userproduct(t)),["prevent"])},E,8,V)]),(0,s._)("div",A,[(0,s._)("h5",B,(0,c.zw)(t.title),1)])])])),_:2},1024)))),128))])),_:1},8,["modules","slides-per-view"])])}var G=i(5032),Q=i(4191),R={data(){return{products:[],modules:[Q.LW,Q.s5],num:1}},components:{Swiper:G.tq,SwiperSlide:G.o5},methods:{getproducts(){const t="https://vue3-course-api.hexschool.io/api/waynechendive-api/products/all";this.$http.get(t).then((t=>{this.products=t.data.products})).catch((t=>{console.log(t)}))},userproduct(t){this.$router.push(`/UserSelect/${t.id}`)}},mounted(){window.innerWidth<430?this.num=1:this.num=3,window.addEventListener("resize",(()=>{window.innerWidth<430?this.num=1:this.num=3}))},created(){this.getproducts()}},T=i(89);const X=(0,T.Z)(R,[["render",F],["__scopeId","data-v-1caa8f56"]]);var tt=X,et={data(){return{product:{},isLoading:!1,mainImg:"",classIndex:-1,productNum:1,likedData:[]}},components:{OtherCard:tt},mounted(){this.$emitter.on("push-like",(()=>{this.getLikes()}))},methods:{isLiked(){return this.likedData.indexOf(this.product.id)>-1},getLikes(){this.likedData=JSON.parse(localStorage.getItem("liked"))},liked(){const t=localStorage.getItem("liked"),e=JSON.parse(t)??[],i=e.indexOf(this.product.id);i>-1?(e.splice(i,1),this.likedData=e):(e.push(this.product.id),this.likedData=e),localStorage.setItem("liked",JSON.stringify(this.likedData)),this.$emitter.emit("push-like",{style:"success",title:"關注",content:"已更新最愛標籤"})},getproduct(){this.isLoading=!0;const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/api/waynechendive-api/product/${t}`;this.$http.get(e).then((t=>{if(this.product=t.data.product,this.product.images){const t=this.product.images[0];this.mainImg=t,this.classIndex=0}else this.mainImg=this.product.imageUrl;this.isLoading=!1})).catch((t=>{console.log(t)}))},updateCart(){this.isLoading=!0;const t={product_id:this.product.id,qty:this.productNum},e="https://vue3-course-api.hexschool.io/api/waynechendive-api/cart";this.$http.post(e,{data:t}).then((t=>{this.$emitter.emit("push-cart",{style:"success",title:t.data.message,content:t.data.message}),this.isLoading=!1})).catch((t=>{console.log(t)}))},pickPic(t,e){this.classIndex=e,this.mainImg=t}},watch:{productNum(t,e){(this.productNum<=0||this.productNum>4)&&(this.productNum=e)},$route(){this.getproduct()}},created(){this.getproduct()}};const it=(0,T.Z)(et,[["render",H],["__scopeId","data-v-9c245b8e"]]);var st=it}}]);
//# sourceMappingURL=876.65e3b422.js.map