{"version":3,"file":"js/918.5635672d.js","mappings":"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","sources":["webpack://Dive/./src/views/Front/UserProducts.vue","webpack://Dive/./src/views/Front/UserProducts.vue?d528"],"sourcesContent":["<template>\r\n  <!-- 全域原件 -->\r\n  <LoadingView :active=\"isLoading\"></LoadingView>\r\n  <div class=\"product\">\r\n    <div class=\"row position-relative\">\r\n      <img\r\n        src=\"https://images.pexels.com/photos/302549/pexels-photo-302549.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\"\r\n        alt=\"\"\r\n      />\r\n      <div\r\n        class=\"position-absolute text-center text\"\r\n        style=\"width: 30%; min-height: 10vh; top: 30%; left: 18%\"\r\n      >\r\n        <h4>潛水假期</h4>\r\n        <p>馬上展開您的潛水假期</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"title my-3 row\">\r\n        <div class=\"col-md-9 col-12\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb\">\r\n              <li class=\"breadcrumb-item\">\r\n                <router-link class=\"text-decoration-none\" to=\"/home\">韋恩潛水</router-link>\r\n              </li>\r\n              <li class=\"breadcrumb-item active\" aria-current=\"page\">潛水假期</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n        <div class=\"col-md-3 col-12\">\r\n          <form class=\"d-flex\">\r\n            <input\r\n              class=\"form-control me-2\"\r\n              type=\"search\"\r\n              placeholder=\"Search\"\r\n              aria-label=\"Search\"\r\n              v-model=\"search\"\r\n              @change=\"filterData\"\r\n            />\r\n            <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\r\n          </form>\r\n        </div>\r\n\r\n        <hr class=\"mt-3\" />\r\n      </div>\r\n      <div class=\"main mb-3 d-flex flex-wrap\">\r\n        <div\r\n          class=\"card shadow border-0 m-3\"\r\n          v-for=\"(i, key) in dataList\"\r\n          :key=\"key\"\r\n          data-aos=\"flip-left\"\r\n        >\r\n          <div class=\"card-img-top cardImg\">\r\n            <img :src=\"i.imageUrl\" alt=\"i.engtitle\" />\r\n          </div>\r\n          <div class=\"overlay card-img-top\">\r\n            <a href=\"#\" @click.prevent=\"userproduct(i)\">\r\n              <div class=\"text-center p-5 text-white\">了解更多</div>\r\n            </a>\r\n          </div>\r\n          <i\r\n            class=\"bi bi-heart position-absolute like\"\r\n            :class=\"{ liked: isLiked(i) }\"\r\n            @click=\"liked(i)\"\r\n            @keyup=\"liked(i)\"\r\n          ></i>\r\n          <div class=\"card-body text-center\">\r\n            <h5 class=\"card-title\">{{ i.title }}</h5>\r\n            <p class=\"card-text\">${{ this.$filters.currency(i.price) }}</p>\r\n            <a href=\"#\" class=\"btn btn-outline-primary\" @click.prevent=\"updateCart(i)\">馬上上課</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UserProducts',\r\n\r\n  data() {\r\n    return { products: [], isLoading: false, search: '', likedData: [] };\r\n  },\r\n  mounted() {\r\n    // 最愛\r\n    this.$emitter.on('push-like', () => {\r\n      this.getLikes();\r\n    });\r\n  },\r\n  methods: {\r\n    //  進入商品業面\r\n    userproduct(i) {\r\n      this.$router.push(`/UserSelect/${i.id}`);\r\n    },\r\n    // 加入購物車\r\n    updateCart(i) {\r\n      this.isLoading = true;\r\n      const cart = {\r\n        product_id: i.id,\r\n        qty: 1,\r\n      };\r\n      const Api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.$http\r\n        .post(Api, { data: cart })\r\n        .then((res) => {\r\n          //   吐司回覆\r\n          this.$emitter.emit('push-cart', {\r\n            style: 'success',\r\n            title: res.data.message,\r\n            content: res.data.message,\r\n          });\r\n\r\n          this.isLoading = false;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    getproducts() {\r\n      this.isLoading = true;\r\n      const Api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.$http\r\n        .get(Api)\r\n        .then((res) => {\r\n          this.products = res.data.products;\r\n          this.isLoading = false;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    // 判斷css狀態\r\n    isLiked(item) {\r\n      if (this.likedData.indexOf(item.id) > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    // 取得localStorage計算最愛數量\r\n    getLikes() {\r\n      this.likedData = JSON.parse(localStorage.getItem('liked')) || [];\r\n    },\r\n    // 推送資料到localStorage\r\n    liked(item) {\r\n      const data = localStorage.getItem('liked');\r\n      const dataArry = JSON.parse(data) ?? [];\r\n      const a = dataArry.indexOf(item.id);\r\n      if (a > -1) {\r\n        dataArry.splice(a, 1);\r\n        this.likedData = dataArry;\r\n      } else {\r\n        dataArry.push(item.id);\r\n        this.likedData = dataArry;\r\n      }\r\n      localStorage.setItem('liked', JSON.stringify(this.likedData));\r\n\r\n      //   吐司回覆\r\n      this.$emitter.emit('push-like', {\r\n        style: 'success',\r\n        title: '關注',\r\n        content: '已更新最愛標籤',\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    // search\r\n    dataList() {\r\n      return this.products.filter((i) => i.title.match(this.search));\r\n    },\r\n  },\r\n  created() {\r\n    this.getproducts();\r\n    // 取得localStorage計算最愛數量\r\n    this.getLikes();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.product {\r\n  .row.position-relative {\r\n    img {\r\n      width: 100%;\r\n      height: 30vh;\r\n    }\r\n  }\r\n  .text {\r\n    color: aqua;\r\n    background-color: rgba($color: white, $alpha: 0.3);\r\n    text-align: center;\r\n  }\r\n\r\n  .card {\r\n    position: relative;\r\n    width: 18vw;\r\n    height: 50vh;\r\n    overflow: hidden;\r\n    .card-img-top {\r\n      height: 30vh;\r\n      overflow: hidden;\r\n      img {\r\n        height: 30vh;\r\n        width: 100%;\r\n      }\r\n    }\r\n    .overlay {\r\n      position: absolute;\r\n      width: 100%;\r\n      background-color: rgba(0, 0, 0, 0.6);\r\n      top: 0;\r\n      opacity: 0;\r\n    }\r\n    &:hover {\r\n      .cardImg.card-img-top {\r\n        img {\r\n          transform: scale(1.5);\r\n          transition: all 1.5s;\r\n        }\r\n      }\r\n      .overlay {\r\n        transition: all 0.5s;\r\n        opacity: 1;\r\n      }\r\n    }\r\n    .like {\r\n      top: 0;\r\n      left: 2vw;\r\n      z-index: 5;\r\n      font-size: 2.5rem;\r\n      color: gray;\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n    .liked {\r\n      color: bisque;\r\n    }\r\n  }\r\n  @media screen and (max-width: 430px) {\r\n    .card {\r\n      position: relative;\r\n      width: 90%;\r\n      margin: auto;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 1600px) {\r\n    .card {\r\n      position: relative;\r\n      width: 18vw;\r\n      height: 40vh;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./UserProducts.vue?vue&type=template&id=a410a952&scoped=true\"\nimport script from \"./UserProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserProducts.vue?vue&type=script&lang=js\"\n\nimport \"./UserProducts.vue?vue&type=style&index=0&id=a410a952&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\wei\\\\Desktop\\\\vuecart-master\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a410a952\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","style","type","_hoisted_19","_createVNode","_component_LoadingView","active","$data","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_component_router_link","to","_hoisted_9","_hoisted_10","_hoisted_11","placeholder","onChange","_ctx","_hoisted_12","_hoisted_13","_hoisted_14","_createElementBlock","_Fragment","$options","i","key","_hoisted_15","imageUrl","_hoisted_17","href","onClick","liked","onKeyup","_hoisted_22","_hoisted_23","title","_hoisted_24","$filters","currency","price","name","data","products","isLoading","search","likedData","mounted","this","$emitter","on","getLikes","methods","userproduct","$router","push","id","updateCart","cart","product_id","qty","Api","$http","post","then","res","emit","message","content","catch","e","console","log","getproducts","get","isLiked","item","indexOf","JSON","parse","localStorage","getItem","dataArry","a","splice","setItem","stringify","computed","dataList","filter","match","created","__exports__","render"],"sourceRoot":""}